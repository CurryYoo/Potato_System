webpackJsonp([14],{"+3gZ":function(t,a,e){var i=e("2eOW");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);e("8bSs")("6a89f536",i,!0)},"2eOW":function(t,a,e){(t.exports=e("BkJT")(!1)).push([t.i,"\n.title{\r\n  margin:90px 0 40px 0;\n}\n.el-default .el-icon-upload {\r\n  margin-top: 125px;\n}\n.el-upload-dragger {\r\n  width: 350px;\r\n  height: 350px;\n}\n.avatar {\r\n  width: 350px;\r\n  height: 350px;\r\n  display: block;\n}\r\n",""])},NJ9k:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i={data:function(){return{qiniuData:{key:"",token:""},upload_qiniu_url:"http://up-z0.qiniup.com",upload_qiniu_addr:"http://up-z0.qiniup.com",imageUrl:"",Global:{dataUrl:"http://yoursite.com"}}},created:function(){this.getQiniuToken()},methods:{getQiniuToken:function(){this.qiniuData.token="anEC5u_72gw1kZPSy3Dsq1lo_DPXyvuPDaj4ePkN:UF5dBGuGCoaVvAsm6rRbFCE-rNE=:eyJkZWxldGVBZnRlckRheXMiOjEsInNjb3BlIjoianNzZGsiLCJkZWFkbGluZSI6MTUzNzA3MjE3NH0="},beforeAvatarUpload:function(t){this.qiniuData.key=t.name;var a="image/jpeg"===t.type,e="image/png"===t.type,i=t.size/1024/1024<2;return a||e?i?void 0:(this.$message.error("图片大小不能超过 2MB!"),!1):(this.$message.error("图片只能是 JPG/PNG 格式!"),!1)},handleAvatarSuccess:function(t,a){this.imageUrl=this.upload_qiniu_addr+t.key,console.log(this.imageUrl)},handleError:function(t){this.$message({message:"上传失败",duration:2e3,type:"warning"})}}},n={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container"},[t._m(0),t._v(" "),e("el-upload",{staticClass:"upload-demo",attrs:{drag:"",action:t.upload_qiniu_url,"show-file-list":!1,"on-success":t.handleAvatarSuccess,"on-error":t.handleError,"before-upload":t.beforeAvatarUpload,data:t.qiniuData}},[t.imageUrl?e("img",{staticClass:"avatar",attrs:{src:t.imageUrl}}):e("div",{staticClass:"el-default"},[e("i",{staticClass:"el-icon-upload"}),t._v(" "),e("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),e("em",[t._v("点击上传")])])]),t._v(" "),e("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传jpg/png文件，且不超过2MB")])])],1)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"title"},[a("h2",[this._v("ElementUI的Upload上传图片到七牛云")])])}]};var s=e("/Xao")(i,n,!1,function(t){e("+3gZ")},null,null);a.default=s.exports}});